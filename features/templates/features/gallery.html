{% extends 'features/base.html' %}
{% block title %}Gallery | Together for Our Village{% endblock %}
{% block extra_head %}
<!-- Fancybox CDN for lightbox effect -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" />
{% endblock %}
{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll('[data-filter]');
    const items = document.querySelectorAll('[data-category]');
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        const filter = btn.getAttribute('data-filter');
        buttons.forEach(b => b.classList.remove('bg-green-600','text-white'));
        buttons.forEach(b => b.classList.remove('bg-green-700'));
        buttons.forEach(b => b.classList.add('bg-white','text-green-700','border','border-green-600'));
        btn.classList.remove('bg-white','text-green-700','border','border-green-600');
        btn.classList.add('bg-green-600','text-white');

        items.forEach(el => {
          const cat = el.getAttribute('data-category');
          el.style.display = (filter === 'all' || filter === cat) ? '' : 'none';
        });
      });
    });
  });
</script>
{% endblock %}
{% block content %}
{% include 'features/partials/hero.html' with hero_title='Gallery' hero_subtitle='Moments from our village projects and community life.' hero_bg_url='https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8ZG9uYXRpb258ZW58MHx8MHx8fDA%3D=rb-4.0.3&auto=format&fit=crop&w=2070&q=80' %}
<div class="container mx-auto px-6 py-12">
    <div class="mb-8 text-center">
        <a href="{% url 'features:home' %}" class="text-green-700 hover:underline">&larr; Back to Home</a>
    </div>
    <!-- Filters -->
    <div class="flex flex-wrap justify-center gap-3 mb-6">
      <button class="px-4 py-2 rounded-full bg-green-600 text-white text-sm hover:bg-green-700" data-filter="all">All</button>
      <button class="px-4 py-2 rounded-full bg-white text-green-700 border border-green-600 text-sm hover:bg-green-50" data-filter="community">Community</button>
      <button class="px-4 py-2 rounded-full bg-white text-green-700 border border-green-600 text-sm hover:bg-green-50" data-filter="education">Education</button>
      <button class="px-4 py-2 rounded-full bg-white text-green-700 border border-green-600 text-sm hover:bg-green-50" data-filter="health">Health</button>
      <button class="px-4 py-2 rounded-full bg-white text-green-700 border border-green-600 text-sm hover:bg-green-50" data-filter="events">Events</button>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        <!-- Example images, replace src with your own -->
        <div class="group relative" data-category="community">
          <a data-fancybox="gallery"
             href="https://images.pexels.com/photos/11576242/pexels-photo-11576242.jpeg?auto=compress&w=1200">
            <img src="https://images.pexels.com/photos/11576242/pexels-photo-11576242.jpeg?auto=compress&w=400"
                 alt="Village life 1" loading="lazy" class="rounded-lg shadow hover:shadow-lg transition object-cover w-full h-64" />
            <div class="absolute inset-0 rounded-lg bg-black/30 opacity-0 group-hover:opacity-100 transition flex items-end">
              <div class="p-3 text-white text-sm">Community gathering</div>
            </div>
          </a>
        </div>
        <div class="group relative" data-category="education">
          <a data-fancybox="gallery"
             href="https://images.pexels.com/photos/6896967/pexels-photo-6896967.jpeg?auto=compress&w=1200">
            <img src="https://images.pexels.com/photos/6896967/pexels-photo-6896967.jpeg?auto=compress&w=400"
                 alt="Village life 2" loading="lazy" class="rounded-lg shadow hover:shadow-lg transition object-cover w-full h-64" />
            <div class="absolute inset-0 rounded-lg bg-black/30 opacity-0 group-hover:opacity-100 transition flex items-end">
              <div class="p-3 text-white text-sm">School supplies distribution</div>
            </div>
          </a>
        </div>
        <div class="group relative" data-category="health">
          <a data-fancybox="gallery"
             href="https://images.pexels.com/photos/29520845/pexels-photo-29520845.jpeg?auto=compress&w=1200">
            <img src="https://images.pexels.com/photos/29520845/pexels-photo-29520845.jpeg?auto=compress&w=400"
                 alt="Village life 3" loading="lazy" class="rounded-lg shadow hover:shadow-lg transition object-cover w-full h-64" />
            <div class="absolute inset-0 rounded-lg bg-black/30 opacity-0 group-hover:opacity-100 transition flex items-end">
              <div class="p-3 text-white text-sm">Healthcare camp</div>
            </div>
          </a>
        </div>
        <!-- Add more images as needed -->
    </div>
    <div class="mt-8 text-center text-gray-500 text-sm">
        Want to contribute your photos? Contact us!
    </div>
</div>
{% endblock %}